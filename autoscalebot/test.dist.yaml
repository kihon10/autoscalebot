web:
    measurement:
        backend: ResponseTime
        url: /my-custom-measurement-url/
        timeout_in_seconds: 30
        seconds_between_measurement: 30

        scale_down_value: 0
        scale_down_sample_size: 5
        scale_up_value: 20
        scale_up_sample_size: 3

    decision:
        backend: Consecutive
        min_processes: 1
        max_processes: 3
        increment: 1

        scale_down_value: 500
        scale_down_sample_size: 3
        scale_up_value: 1500
        scale_up_sample_size: 5
        post_scale_delay_seconds: 0

    scaling:
        backend: Heroku
        worker_name: web
        app_name: dancing-forest-1234
        api_key: abcdef1234567890abcdef12

    notification:
        -   backend: DjangoEmail
            notify_on: [SCALE, BELOW_MIN, ABOVE_MAX]

        -   backend: Console
            notify_on: [MEASUREMENT, SCALE, BELOW_MIN, ABOVE_MAX, TOO_RAPID]
            too_rapid_num_scales: 5
            too_rapid_period_minutes: 10

celery:
    measurement:
        backend: CeleryRedisQueueSize
        seconds_between_measurement: 30

    decision:
        backend: Average
        min_processes: 1
        max_processes: 5
        increment: 1

        scale_down_value: 0
        scale_down_sample_size: 5
        scale_up_value: 10
        scale_up_sample_size: 5
        post_scale_delay_seconds: 5

    scaling:
        backend: Heroku
        worker_name: celery
        app_name: dancing-forest-1234
        api_key: abcdef1234567890abcdef12

    notification:
        -   backend: Logger
            notify_on: [BELOW_MIN, ABOVE_MAX]
